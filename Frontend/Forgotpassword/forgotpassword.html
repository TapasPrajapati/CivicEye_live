<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CivicEye - Forgot Password</title>
  <link rel="stylesheet" href="/Frontend/landing/style.css" />
  <link rel="stylesheet" href="forgotpassword.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
  <div class="forgot-password-container">
    <div class="forgot-password-card">
      <div class="brand" onclick="window.location.href='../../index.html'" style="cursor: pointer">
        <i data-lucide="shield-alert"></i>
        <span>CivicEye</span>
      </div>
      
      <div class="progress-indicator">
        <div class="step active" data-step="1">
          <span>1</span>
          <p>Enter Email</p>
        </div>
        <div class="step" data-step="2">
          <span>2</span>
          <p>Verify Code</p>
        </div>
        <div class="step" data-step="3">
          <span>3</span>
          <p>New Password</p>
        </div>
      </div>
      
      <!-- Step 1: Email Input -->
      <div class="form-step active" id="step1">
        <h2>Reset Your Password</h2>
        <p>Enter your email address and we'll send you a verification code.</p>
        
        <form id="emailForm">
          <div class="form-group">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" required>
          </div>
          
          <button type="submit" class="submit-btn" id="sendCodeBtn">
            <span class="btn-text">Send Verification Code</span>
            <div class="btn-loader" style="display: none;">
              <div class="loader"></div>
            </div>
          </button>
        </form>
        
        <div class="back-to-login">
          <a href="#" id="backToLogin">Back to Login</a>
        </div>
      </div>
      
      <!-- Step 2: Verification Code -->
      <div class="form-step" id="step2">
        <h2>Check Your Email</h2>
        <p>We've sent a 6-digit code to <span id="emailDisplay" class="email-display">user@example.com</span></p>
        
        <form id="verificationForm">
          <div class="code-input-group">
            <div class="code-inputs">
              <input type="text" maxlength="1" class="code-input" data-index="0" autocomplete="off">
              <input type="text" maxlength="1" class="code-input" data-index="1" autocomplete="off">
              <input type="text" maxlength="1" class="code-input" data-index="2" autocomplete="off">
              <input type="text" maxlength="1" class="code-input" data-index="3" autocomplete="off">
              <input type="text" maxlength="1" class="code-input" data-index="4" autocomplete="off">
              <input type="text" maxlength="1" class="code-input" data-index="5" autocomplete="off">
            </div>
            <input type="hidden" id="verificationCode">
          </div>
          
          <div class="resend-container">
            <p>Didn't receive the code? <a href="#" id="resendCode">Resend code</a></p>
            <div class="countdown" id="countdown">(00:60)</div>
          </div>
          
          <button type="submit" class="submit-btn" id="verifyCodeBtn" disabled>
            <span class="btn-text">Verify Code</span>
            <div class="btn-loader" style="display: none;">
              <div class="loader"></div>
            </div>
          </button>
        </form>
        
        <div class="back-to-email">
          <a href="#" id="backToEmail">Use a different email address</a>
        </div>
      </div>
      
      <!-- Step 3: New Password -->
      <div class="form-step" id="step3">
        <h2>Create New Password</h2>
        <p>Your new password must be different from previous used passwords.</p>
        
        <form id="passwordForm">
          <div class="form-group">
            <label for="newPassword">New Password</label>
            <div class="password-input-container">
              <input type="password" id="newPassword" name="newPassword" required>
              <button type="button" class="toggle-password" id="toggleNewPassword">
                <i data-lucide="eye"></i>
              </button>
            </div>
            <div class="password-strength">
              <div class="strength-bar">
                <div class="strength-progress"></div>
              </div>
              <div class="strength-text">Password strength: <span id="strengthValue">None</span></div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <div class="password-input-container">
              <input type="password" id="confirmPassword" name="confirmPassword" required>
              <button type="button" class="toggle-password" id="toggleConfirmPassword">
                <i data-lucide="eye"></i>
              </button>
            </div>
            <div class="password-match" id="passwordMatch"></div>
          </div>
          
          <button type="submit" class="submit-btn" id="resetPasswordBtn">
            <span class="btn-text">Reset Password</span>
            <div class="btn-loader" style="display: none;">
              <div class="loader"></div>
            </div>
          </button>
        </form>
      </div>
      
      <!-- Success Message -->
      <div class="success-message" id="successMessage">
        <div class="success-icon">
          <i data-lucide="check-circle"></i>
        </div>
        <h2>Password Reset Successful</h2>
        <p>Your password has been reset successfully. You can now login with your new password.</p>
        <a href="#" class="back-to-login-btn" id="successLoginBtn">Back to Login</a>
      </div>
    </div>
  </div>

  <script src="forgotpassword.js"></script>
  <script>
    lucide.createIcons();
  </script>
</body>

</html>